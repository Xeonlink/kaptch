# 개발자 코맨트

이 프로젝트는 [한국인증채우기](https://github.com/Xeonlink/korea-auth-filler)를 만들면서 개발하게 되었습니다. 캡챠를 우회하기 위한 비전 AI모델이 필요했습니다. 저는 하나의 범용모델보다는 각각의 작은 모델을 쓰는 것이 더 좋다고 생각했고, 그 이유는 아래와 같습니다.

1. 인증 벤더가 많지 않음

    모바일인증을 지원하는 벤더사들이 많지 않아서, 각각의 특화모델을 만들더라도 하나의 큰 모델을 만들어서 적용하는 것대비 구현시간에서의 큰 차이가 없을 것으로 생각했습니다.

2. 특화시킬 수 있음

    특정 회사의 캡챠를 뚫기 위한, 비전모델을 만들 수 있어. ocr과 같은 볌용모델 대비 정확도를 높일 수 있었습니다.뿐만 아니라 비슷한 이미지가 많으면 모델이 더 쉽게 학습할 수 있기 때문에, 모델이 학습하는게 걸리는 시간도 절약할 수 있었습니다. 더 작은 파라미터를 가진 모델로도 의도한 결과가 나오게 할 수 있다는 점도 장점입니다.

3. 캡챠생성 알고리즘의 변경

    만약 인증벤더사들이 캡챠이미지를 생성하는 알고리즘을 변경한다고 했을 때, 하나의 큰 범용모델로 만들면 모든 것을 다시 학습시켜야합니다. 하지만 벤더별 모델을 만들면, 알고리즘을 바꾼 그 벤더의 모델만 다시 구축해서 배포할 수 있기 떄문에, 시간과 노력이 상대적으로 적게 들어갑니다.

그래서 여러 벤더를 위한 여러 모델들을 만들려고 하니, 두서도 없고 이것저것 해야할 것은 머리속에 떠오르는데, 이거하다 저거하다 헷갈리기 시작했습니다. 그래서 이 도구를 만들었고, 아래와 같은 장점을 얻었습니다.

1. 관리 귀찮음 사라짐

    이전에는 모델을 학습시키려면 데이터셋이 제대로 만들어져있는지, 라벨은 다 달았는지, 이것저것 생각해야될 것들이 있었지만, CLI도구로 만들어서 각종 검증로직을 구축하니 고민없이 명령어를 통해 작업에 임할 수 있었습니다.

2. 파이프라인이 일관적

    도구를 만드는 과정에서 데이터의 흐름을 정형화할 수 있었습니다. 각각의 단계별로 데이터의 형태를 고정할 수 있었기 때문에, 여러 벤더로의 확장을 위한 일관된 인터페이스를 가질 수 있었습니다.

3. 명령어

    이전에는 전처리를 하기 위해서 전처리 코드를 작성하고 그 파일을 실행하고 했어야했고, 파일이 어디에 있는지 모듈의 상하관계는 어떤지를 잘 알고 있어야했습니다. 하지만 지금은 명령어를 통해서 이를 걱정할 필요가 없고, 명령어를 까먹더라도 --help를 통해서 다시 상기할 수 도 있기 때문에, 매우 편해졌습니다.

하지만 단점도 없는 것은 아닙니다. 개발도중에는 정형화된 인터페이스로는 작동이 불가능한 경우도 생기기도 했습니다. 특히 가장 큰 문제는 모든 벤더사를 같은 로직으로 크롤링해야했기 때문에, asyncio를 통한 고속의 이미지 크롤링을 사용할 수 없었고, playwright를 통해서 하나하나 순차적으로 다운로드 받을 수 밖에 없었습니다. (엄청나게 느립니다)

마지막으로 이 프로젝트는 제가 편하기 위해서 시작한 프로젝트입니다. 버그수정은 안받습니다.